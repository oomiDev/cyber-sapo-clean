<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBER SAPO - App M√≥vil</title>
    <style>
        :root {
            --neon-cyan: #00ffff;
            --neon-green: #00ff88;
            --neon-pink: #ff00ff;
            --dark-bg: #0a0a0f;
            --dark-surface: #1a1a2e;
            --dark-card: #16213e;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --glow-intensity: 0 0 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, var(--dark-bg), var(--dark-surface));
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .app-container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        .app-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--dark-surface), var(--dark-card));
            border: 2px solid var(--neon-cyan);
            border-radius: 15px;
            box-shadow: var(--glow-intensity) var(--neon-cyan);
        }

        .app-logo {
            font-size: 2.5em;
            color: var(--neon-green);
            text-shadow: var(--glow-intensity) var(--neon-green);
            margin-bottom: 10px;
            animation: neonPulse 2s ease-in-out infinite alternate;
        }

        @keyframes neonPulse {
            0% { text-shadow: 0 0 5px var(--neon-green); }
            100% { text-shadow: 0 0 30px var(--neon-green); }
        }

        .app-subtitle {
            color: var(--text-secondary);
            font-size: 1.1em;
        }

        .nav-tabs {
            display: flex;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .nav-tab {
            flex: 1;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-family: inherit;
        }

        .nav-tab.active {
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-green));
            color: #000;
            font-weight: bold;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--neon-green);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .card:hover {
            background: rgba(0, 255, 136, 0.2);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
        }

        .btn {
            background: linear-gradient(135deg, var(--neon-green), #00d4aa);
            color: #000;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
            transition: all 0.3s ease;
            font-weight: bold;
            font-family: inherit;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--neon-cyan), #00aaff);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
        }

        .qr-scanner {
            text-align: center;
            padding: 40px 20px;
            border: 2px dashed var(--neon-cyan);
            border-radius: 15px;
            margin: 20px 0;
        }

        .qr-icon {
            font-size: 4em;
            color: var(--neon-cyan);
            margin-bottom: 20px;
        }

        .ranking-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid var(--neon-green);
        }

        .ranking-position {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--neon-cyan);
            width: 50px;
        }

        .ranking-info {
            flex: 1;
            margin-left: 15px;
        }

        .ranking-name {
            color: var(--text-primary);
            font-weight: bold;
        }

        .ranking-score {
            color: var(--neon-green);
            font-size: 1.2em;
            font-weight: bold;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid var(--neon-green);
        }

        .stat-value {
            color: var(--neon-green);
            font-size: 2em;
            font-weight: bold;
            text-shadow: 0 0 10px var(--neon-green);
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9em;
            margin-top: 5px;
        }

        .achievement {
            display: flex;
            align-items: center;
            padding: 15px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid #ffd700;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .achievement-icon {
            font-size: 2em;
            margin-right: 15px;
        }

        .achievement.unlocked {
            background: rgba(0, 255, 136, 0.1);
            border-color: var(--neon-green);
        }

        .tournament-card {
            background: rgba(255, 0, 255, 0.1);
            border: 1px solid var(--neon-pink);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .tournament-title {
            color: var(--neon-pink);
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .challenge-card {
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid var(--neon-cyan);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .challenge-progress {
            width: 100%;
            height: 10px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .challenge-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-green));
            transition: width 0.3s ease;
        }

        .share-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .share-btn {
            padding: 15px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .share-facebook { background: #1877f2; color: white; }
        .share-twitter { background: #1da1f2; color: white; }
        .share-instagram { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); color: white; }

        .loading {
            text-align: center;
            color: var(--neon-green);
            padding: 20px;
        }

        .loading::after {
            content: '...';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="app-header">
            <div class="app-logo">üê∏ CYBER SAPO</div>
            <div class="app-subtitle">Juego de Sapo Digital</div>
        </div>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('connect')">üîó Conectar</button>
            <button class="nav-tab" onclick="showTab('ranking')">üèÜ Ranking</button>
            <button class="nav-tab" onclick="showTab('profile')">üë§ Perfil</button>
            <button class="nav-tab" onclick="showTab('tournaments')">üéØ Torneos</button>
            <button class="nav-tab" onclick="showTab('challenges')">‚ö° Retos</button>
        </div>

        <!-- Tab: Conectar QR -->
        <div id="tab-connect" class="tab-content active">
            <div class="card">
                <h2 style="color: var(--neon-cyan); margin-bottom: 20px;">üì± Conectar a M√°quina</h2>
                <!-- Configuraci√≥n de Jugador -->
                <div class="player-setup" style="margin-bottom: 30px; padding: 20px; background: rgba(0, 255, 136, 0.1); border: 1px solid var(--neon-green); border-radius: 10px;">
                    <h3 style="color: var(--neon-green); margin-bottom: 15px; text-align: center;">üë§ Tu Perfil</h3>
                    <div style="margin-bottom: 15px;">
                        <label style="color: var(--text-secondary); display: block; margin-bottom: 5px;">Nombre/Nick:</label>
                        <input type="text" id="player-name" placeholder="Ingresa tu nombre o nick" 
                               style="width: 100%; padding: 12px; background: rgba(0,0,0,0.5); border: 1px solid var(--neon-cyan); border-radius: 5px; color: white; font-size: 16px;"
                               maxlength="20">
                    </div>
                    <div class="player-preview" style="text-align: center; padding: 10px; background: rgba(0,0,0,0.3); border-radius: 5px;">
                        <span style="color: var(--text-secondary);">Aparecer√°s como: </span>
                        <span id="name-preview" style="color: var(--neon-cyan); font-weight: bold;">Jugador An√≥nimo</span>
                    </div>
                </div>

                <div id="qr-scanner">
                    <div class="qr-icon">üì±</div>
                    <h3 style="color: var(--neon-cyan); margin-bottom: 15px;">Escanear C√≥digo QR</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">
                        Apunta tu c√°mara al c√≥digo QR de la m√°quina para conectarte
                    </p>
                    <button class="btn" onclick="startQRScanner()">üîç Iniciar Esc√°ner</button>
                    
                    <div style="margin: 30px 0; text-align: center; color: var(--text-secondary);">
                        <div style="border-top: 1px solid var(--text-secondary); margin: 20px 0; position: relative;">
                            <span style="background: var(--dark-bg); padding: 0 15px; position: absolute; top: -10px; left: 50%; transform: translateX(-50%);">o</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <h4 style="color: var(--neon-green); margin-bottom: 10px;">C√≥digo Manual</h4>
                        <input type="text" id="manual-code" placeholder="Ingresa c√≥digo de m√°quina" 
                               style="width: 100%; padding: 12px; background: rgba(0,0,0,0.5); border: 1px solid var(--neon-green); border-radius: 5px; color: white; margin-bottom: 10px;">
                        <button class="btn btn-secondary" onclick="connectManual()">üîó Conectar</button>
                    </div>
                </div>

                <div id="connected-machine" class="card" style="display: none;">
                    <h3 style="color: var(--neon-green); margin-bottom: 15px;">‚úÖ Conectado a M√°quina</h3>
                    <div id="machine-info"></div>
                    <button class="btn" onclick="startGame()">üéÆ Iniciar Partida</button>
                    <button class="btn btn-danger" onclick="disconnect()">‚ùå Desconectar</button>
                </div>
                <h3 style="color: var(--neon-green); margin-bottom: 15px;">‚úÖ Conectado a M√°quina</h3>
                <div id="machine-info"></div>
                <button class="btn" onclick="startGame()">üéÆ Iniciar Partida</button>
                <button class="btn btn-danger" onclick="disconnect()">‚ùå Desconectar</button>
            </div>
        </div>

        <!-- Tab: Ranking -->
        <div id="tab-ranking" class="tab-content">
            <div class="card">
                <h2 style="color: var(--neon-cyan); margin-bottom: 20px;">üèÜ Rankings</h2>
                
                <div class="nav-tabs" style="margin-bottom: 20px;">
                    <button class="nav-tab active" onclick="showRanking('global')">üåç Global</button>
                    <button class="nav-tab" onclick="showRanking('national')">üá™üá∏ Nacional</button>
                    <button class="nav-tab" onclick="showRanking('local')">üè™ Local</button>
                </div>

                <div id="ranking-content">
                    <div class="loading">Cargando ranking</div>
                </div>
            </div>
        </div>

        <!-- Tab: Perfil -->
        <div id="tab-profile" class="tab-content">
            <div class="card">
                <h2 style="color: var(--neon-cyan); margin-bottom: 20px;">üë§ Mi Perfil</h2>
                
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 4em; margin-bottom: 10px;">üê∏</div>
                    <h3 style="color: var(--neon-green);">Jugador Pro</h3>
                    <p style="color: var(--text-secondary);">Nivel 15 - Rana Dorada</p>
                </div>

                <div class="stat-grid">
                    <div class="stat-item">
                        <div class="stat-value">1,247</div>
                        <div class="stat-label">Puntuaci√≥n M√°xima</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">89</div>
                        <div class="stat-label">Partidas Jugadas</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">67%</div>
                        <div class="stat-label">Precisi√≥n</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">12</div>
                        <div class="stat-label">Victorias</div>
                    </div>
                </div>

                <h3 style="color: var(--neon-green); margin: 30px 0 15px;">üèÖ Logros</h3>
                <div id="achievements-list">
                    <!-- Los logros se cargar√°n din√°micamente -->
                </div>
                
                <h3 style="color: var(--neon-pink); margin: 30px 0 15px;">‚öôÔ∏è Configuraci√≥n</h3>
                <div style="background: rgba(255, 107, 107, 0.1); border: 1px solid #ff6b6b; border-radius: 8px; padding: 15px;">
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">
                        ‚ö†Ô∏è Esta acci√≥n eliminar√° permanentemente todas tus estad√≠sticas y logros.
                    </p>
                    <button class="btn btn-danger" onclick="resetPlayerData()" style="background: linear-gradient(135deg, #ff6b6b, #ee5a24); color: white;">
                        üóëÔ∏è Borrar Datos del Perfil
                    </button>
                </div>
            </div>
        </div>

        <!-- Tab: Torneos -->
        <div id="tab-tournaments" class="tab-content">
            <div class="card">
                <h2 style="color: var(--neon-cyan); margin-bottom: 20px;">üéØ Torneos</h2>
                
                <div class="tournament-card">
                    <div class="tournament-title">üèÜ Copa CYBER SAPO 2024</div>
                    <p style="color: var(--text-secondary); margin-bottom: 10px;">üìÖ 15-17 Agosto 2024</p>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">üìç Madrid, Espa√±a</p>
                    <p style="color: var(--text-primary); margin-bottom: 15px;">Premio: ‚Ç¨500 + Trofeo</p>
                    <button class="btn">üìù Inscribirse</button>
                </div>

                <div class="tournament-card">
                    <div class="tournament-title">‚ö° Torneo Rel√°mpago</div>
                    <p style="color: var(--text-secondary); margin-bottom: 10px;">üìÖ Cada Viernes 20:00</p>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">üìç Bar El Sapo Loco</p>
                    <p style="color: var(--text-primary); margin-bottom: 15px;">Premio: Bebidas gratis</p>
                    <button class="btn btn-secondary">üëÄ Ver Resultados</button>
                </div>

                <h3 style="color: var(--neon-green); margin: 30px 0 15px;">üìä Mis Torneos</h3>
                <div style="color: var(--text-secondary); text-align: center; padding: 20px;">
                    No est√°s inscrito en ning√∫n torneo actualmente
                </div>
            </div>
        </div>

        <!-- Tab: Retos -->
        <div id="tab-challenges" class="tab-content">
            <div class="card">
                <h2 style="color: var(--neon-cyan); margin-bottom: 20px;">‚ö° Retos Semanales</h2>
                
                <div class="challenge-card">
                    <h3 style="color: var(--neon-cyan); margin-bottom: 10px;">üéØ Precisi√≥n Extrema</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 10px;">Consigue 3 ranas peque√±as seguidas</p>
                    <div class="challenge-progress">
                        <div class="challenge-fill" style="width: 66%;"></div>
                    </div>
                    <p style="color: var(--neon-green);">Progreso: 2/3</p>
                </div>

                <div class="challenge-card">
                    <h3 style="color: var(--neon-cyan); margin-bottom: 10px;">üî• Puntuaci√≥n Alta</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 10px;">Supera los 1,500 puntos esta semana</p>
                    <div class="challenge-progress">
                        <div class="challenge-fill" style="width: 83%;"></div>
                    </div>
                    <p style="color: var(--neon-green);">Progreso: 1,247/1,500</p>
                </div>

                <div class="challenge-card">
                    <h3 style="color: var(--neon-cyan); margin-bottom: 10px;">üéÆ Marat√≥n de Juegos</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 10px;">Juega 10 partidas esta semana</p>
                    <div class="challenge-progress">
                        <div class="challenge-fill" style="width: 70%;"></div>
                    </div>
                    <p style="color: var(--neon-green);">Progreso: 7/10</p>
                </div>

                <h3 style="color: var(--neon-green); margin: 30px 0 15px;">üèÜ Recompensas Disponibles</h3>
                <div style="background: rgba(255, 215, 0, 0.1); border: 1px solid #ffd700; border-radius: 8px; padding: 15px;">
                    <p style="color: #ffd700; font-weight: bold;">üéÅ Tienes 2 recompensas por reclamar</p>
                    <button class="btn" style="margin-top: 10px;">üéÅ Reclamar Recompensas</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let currentTab = 'connect';
        let currentRanking = 'global';
        let connectedMachine = null;
        let playerName = '';

        // Configuraci√≥n del jugador
        function initializePlayerSetup() {
            const playerNameInput = document.getElementById('player-name');
            const namePreview = document.getElementById('name-preview');
            
            // Cargar nombre guardado
            const savedName = localStorage.getItem('cyber-sapo-player-name');
            if (savedName) {
                playerName = savedName;
                playerNameInput.value = savedName;
                namePreview.textContent = savedName;
            }
            
            // Actualizar preview en tiempo real
            playerNameInput.addEventListener('input', function() {
                const name = this.value.trim();
                playerName = name;
                namePreview.textContent = name || 'Jugador An√≥nimo';
                
                // Guardar en localStorage
                if (name) {
                    localStorage.setItem('cyber-sapo-player-name', name);
                } else {
                    localStorage.removeItem('cyber-sapo-player-name');
                }
            });
        }

        // Navigation
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab
            document.getElementById('tab-' + tabName).classList.add('active');
            event.target.classList.add('active');

            // Load content if needed
            if (tabName === 'ranking') {
                loadRanking(currentRanking);
            }
        }

        // QR Scanner
        function startQRScanner() {
            // Simulate QR scanning
            document.getElementById('qr-scanner').innerHTML = `
                <div class="qr-icon">üì∑</div>
                <h3 style="color: var(--neon-cyan); margin-bottom: 15px;">Escaneando...</h3>
                <div class="loading">Buscando c√≥digo QR</div>
            `;

            setTimeout(() => {
                // Simulate successful scan
                connectToMachine('CYBER-001', 'Bar El Sapo Loco');
            }, 3000);
        }

        function connectManual() {
            const code = document.getElementById('manual-code').value;
            if (code) {
                connectToMachine(code, 'Ubicaci√≥n Desconocida');
            }
        }

        function connectToMachine(machineId, location) {
            const finalPlayerName = playerName || 'Jugador An√≥nimo';
            connectedMachine = { 
                id: machineId, 
                location: location,
                playerName: finalPlayerName
            };
            
            document.getElementById('qr-scanner').style.display = 'none';
            document.getElementById('connected-machine').style.display = 'block';
            document.getElementById('machine-info').innerHTML = `
                <p style="color: var(--neon-green); font-weight: bold;">M√°quina: ${machineId}</p>
                <p style="color: var(--text-secondary);">Ubicaci√≥n: ${location}</p>
                <p style="color: var(--neon-cyan); font-weight: bold;">Jugador: ${finalPlayerName}</p>
                <p style="color: var(--text-secondary);">Estado: ‚úÖ Conectado</p>
            `;
            
            // Enviar nombre del jugador al juego
            sendPlayerNameToGame(finalPlayerName);
        }
        
        function sendPlayerNameToGame(name) {
            // Simular env√≠o de nombre al juego principal
            // En una implementaci√≥n real, esto ser√≠a v√≠a WebSocket
            if (window.opener || window.parent) {
                try {
                    const message = {
                        type: 'player_connected',
                        playerName: name,
                        timestamp: Date.now()
                    };
                    window.postMessage(message, '*');
                } catch (error) {
                    console.log('No se pudo enviar mensaje al juego principal');
                }
            }
            
            // Guardar en localStorage para que el juego lo pueda leer
            localStorage.setItem('cyber-sapo-current-player', name);
            console.log(`üì± Jugador conectado: ${name}`);
        }

        function disconnect() {
            connectedMachine = null;
            document.getElementById('qr-scanner').style.display = 'block';
            document.getElementById('connected-machine').style.display = 'none';
            
            // Reset QR scanner
            document.getElementById('qr-scanner').innerHTML = `
                <div class="qr-icon">üì±</div>
                <h3 style="color: var(--neon-cyan); margin-bottom: 15px;">Escanear C√≥digo QR</h3>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Apunta tu c√°mara al c√≥digo QR de la m√°quina para conectarte
                </p>
                <button class="btn" onclick="startQRScanner()">üîç Iniciar Esc√°ner</button>
            `;
        }

        function startGame() {
            if (connectedMachine) {
                alert('üéÆ Iniciando partida en ' + connectedMachine.id + '...');
                // Here you would redirect to the game interface
            }
        }

        // Ranking
        function showRanking(type) {
            currentRanking = type;
            
            // Update tab buttons
            document.querySelectorAll('#tab-ranking .nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            loadRanking(type);
        }

        function loadRanking(type) {
            const content = document.getElementById('ranking-content');
            content.innerHTML = '<div class="loading">Cargando ranking</div>';

            setTimeout(() => {
                const rankings = {
                    global: [
                        { pos: 1, name: 'SapoMaster', score: 2450, country: 'üá™üá∏' },
                        { pos: 2, name: 'RanaLoca', score: 2380, country: 'üá≤üáΩ' },
                        { pos: 3, name: 'CyberFrog', score: 2250, country: 'üá¶üá∑' },
                        { pos: 15, name: 'T√∫', score: 1247, country: 'üá™üá∏', isPlayer: true }
                    ],
                    national: [
                        { pos: 1, name: 'SapoMaster', score: 2450, city: 'Madrid' },
                        { pos: 2, name: 'RanaReal', score: 2100, city: 'Barcelona' },
                        { pos: 3, name: 'FrogKing', score: 1980, city: 'Valencia' },
                        { pos: 8, name: 'T√∫', score: 1247, city: 'Madrid', isPlayer: true }
                    ],
                    local: [
                        { pos: 1, name: 'LocalChamp', score: 1890, bar: 'El Sapo Loco' },
                        { pos: 2, name: 'BarHero', score: 1650, bar: 'La Rana Verde' },
                        { pos: 3, name: 'T√∫', score: 1247, bar: 'El Sapo Loco', isPlayer: true }
                    ]
                };

                const data = rankings[type];
                content.innerHTML = data.map(player => `
                    <div class="ranking-item ${player.isPlayer ? 'style="border-left-color: var(--neon-cyan);"' : ''}">
                        <div class="ranking-position">#${player.pos}</div>
                        <div class="ranking-info">
                            <div class="ranking-name">${player.name} ${player.country || ''}</div>
                            <div style="color: var(--text-secondary); font-size: 0.9em;">
                                ${player.city || player.bar || ''}
                            </div>
                        </div>
                        <div class="ranking-score">${player.score}</div>
                    </div>
                `).join('');
            }, 1000);
        }

        // Funci√≥n para cargar perfil del jugador
        function loadPlayerProfile() {
            const profile = JSON.parse(localStorage.getItem('cyber-sapo-player-profile')) || {
                name: playerName || 'Jugador An√≥nimo',
                totalGames: 0,
                totalScore: 0,
                maxScore: 0,
                totalThrows: 0,
                achievements: [],
                lastUpdated: Date.now()
            };
            
            // Actualizar estad√≠sticas en la interfaz
            document.querySelector('.stat-item:nth-child(1) .stat-value').textContent = profile.maxScore;
            document.querySelector('.stat-item:nth-child(2) .stat-value').textContent = profile.totalGames;
            document.querySelector('.stat-item:nth-child(3) .stat-value').textContent = profile.totalThrows > 0 ? Math.round((profile.totalScore / profile.totalThrows) * 100) + '%' : '0%';
            document.querySelector('.stat-item:nth-child(4) .stat-value').textContent = profile.achievements.length;
            
            // Cargar logros
            loadAchievements(profile.achievements);
        }
        
        function loadAchievements(unlockedAchievements) {
            const achievementsList = document.getElementById('achievements-list');
            const allAchievements = [
                { id: 'first_100', name: 'Primer Centenar', description: 'Alcanza 100 puntos', icon: 'ü•á' },
                { id: 'precision_master', name: 'Maestro de Precisi√≥n', description: 'Alcanza 500 puntos', icon: 'üéØ' },
                { id: 'sapo_legend', name: 'Leyenda del Sapo', description: 'Alcanza 1000 puntos', icon: 'üèÜ' },
                { id: 'golden_frog', name: 'Rana Dorada', description: 'Alcanza 2000 puntos', icon: 'üëë' }
            ];
            
            achievementsList.innerHTML = allAchievements.map(achievement => {
                const isUnlocked = unlockedAchievements.includes(achievement.id);
                return `
                    <div class="achievement ${isUnlocked ? 'unlocked' : ''}">
                        <div class="achievement-icon">${achievement.icon}</div>
                        <div>
                            <div style="color: ${isUnlocked ? 'var(--neon-green)' : 'var(--text-secondary)'}; font-weight: bold;">${achievement.name}</div>
                            <div style="color: var(--text-secondary); font-size: 0.9em;">${achievement.description}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function resetPlayerData() {
            if (confirm('‚ö†Ô∏è ¬øEst√°s seguro de que quieres borrar todos tus datos? Esta acci√≥n no se puede deshacer.')) {
                // Borrar todos los datos del localStorage
                localStorage.removeItem('cyber-sapo-player-profile');
                localStorage.removeItem('cyber-sapo-current-player');
                localStorage.removeItem('cyber-sapo-player-name');
                
                // Resetear campos
                document.getElementById('player-name').value = '';
                document.getElementById('name-preview').textContent = 'Jugador An√≥nimo';
                playerName = '';
                
                // Recargar perfil
                loadPlayerProfile();
                
                alert('‚úÖ Datos del perfil borrados exitosamente');
                console.log('üóëÔ∏è Datos del jugador eliminados');
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadRanking('global');
            initializePlayerSetup();
            loadPlayerProfile();
        });
    </script>
</body>
</html>
